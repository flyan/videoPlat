# 手机访问 VideoPlat 指南

## ✅ 问题已修复

现在系统支持以下降级模式：
1. **完整模式** - 音频 + 视频（需要 HTTPS 和权限）
2. **纯音频模式** - 仅音频（摄像头不可用时）
3. **观众模式** - 仅观看（麦克风和摄像头都不可用时）

## 📱 手机访问步骤

### 方法一：使用局域网 IP（推荐）

1. **确保手机和电脑在同一个 WiFi 网络**

2. **在手机浏览器访问**：
   ```
   https://192.168.10.9
   ```

3. **信任自签名证书**：
   - iOS Safari：点击"显示详细信息" → "访问此网站"
   - Android Chrome：点击"高级" → "继续访问"

4. **授权摄像头和麦克风权限**：
   - 首次加入会议时，浏览器会请求权限
   - 点击"允许"即可

### 方法二：使用 ngrok 或内网穿透（公网访问）

如果需要从外网访问，可以使用 ngrok：

```bash
# 安装 ngrok
# 访问 https://ngrok.com 下载

# 启动 ngrok
ngrok http https://localhost:443
```

然后使用 ngrok 提供的 HTTPS 地址访问。

## ⚠️ 常见问题

### 1. 提示"无法访问摄像头和麦克风"

**原因**：
- 使用了 HTTP 而不是 HTTPS
- 浏览器不支持 WebRTC
- 没有授权权限

**解决方案**：
- ✅ 确保使用 **HTTPS** 访问（`https://` 开头）
- ✅ 使用现代浏览器（Chrome、Safari、Edge）
- ✅ 在浏览器设置中允许摄像头和麦克风权限

### 2. 证书不受信任

**原因**：使用了自签名证书

**解决方案**：
- 点击"高级"或"详细信息"
- 选择"继续访问"或"访问此网站"
- 这是正常的，因为是开发环境

### 3. 无法连接到服务器

**原因**：
- 手机和电脑不在同一网络
- 防火墙阻止了连接
- IP 地址不正确

**解决方案**：
- 确保手机和电脑连接到同一个 WiFi
- 检查电脑防火墙设置
- 确认电脑的 IP 地址（运行 `ipconfig` 或 `ifconfig`）

## 🎯 功能说明

### 完整模式（音频 + 视频）
- ✅ 可以看到其他人
- ✅ 其他人可以看到你
- ✅ 可以说话和听到声音

### 纯音频模式
- ✅ 可以说话和听到声音
- ✅ 可以看到其他人的视频
- ❌ 其他人看不到你的视频（显示头像）

### 观众模式
- ✅ 可以看到其他人的视频
- ✅ 可以听到声音
- ❌ 其他人听不到你的声音
- ❌ 其他人看不到你的视频

## 📝 测试账号

- **管理员账号**：
  - 用户名：`admin`
  - 密码：`admin123`

- **普通用户**：
  - 用户名：`user1` - `user9`
  - 密码：`user123`

## 🔧 技术说明

系统会自动检测浏览器能力：
1. 首先尝试获取音频和视频
2. 如果失败，尝试仅获取音频
3. 如果仍然失败，以观众模式加入

这样即使在不支持完整功能的环境下，用户也能参与会议。
